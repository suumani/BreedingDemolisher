# Breeding Demolisher — 仕様書（spec）

本書は Breeding Demolisher の **設計意図・仕様・合意事項** を記録するためのドキュメントである。  
Mod Portal / README では説明しきれない「判断基準」「仕様の優先順位」「バグと仕様の境界」を保持することを目的とする。

---

## 0. 目的と非目的

### 0.1 目的（Purpose）
- デモリッシャーを「単発の脅威」ではなく、**増殖する生態系（Ecosystem）**として扱う体験を提供する
- 放置すると脅威が増大する一方で、**上限・制御ロジック**によりゲームが破綻しない範囲に収める
- 高密度戦闘・封じ込め・資源配分（討伐／放置／飼育）の意思決定を発生させる

### 0.2 非目的（Non-goals）
- 常にプレイヤーが安全に管理できる難易度を保証しない
- 卵・繁殖を「単なる収集要素」にしない（放置の代償を必ず残す）
- グローバルな敵挙動を全面的に置換することは目的としない

---

## 1. Mod の位置づけ
- 分類：コンテンツ追加 / Enemies
- 対象：Factorio 2.0（Space Age） :contentReference[oaicite:8]{index=8}
- コア体験：増殖するデモリッシャーを「狩る／放置する／飼う」で管理する

---

## 2. 基本ループ
1. 時間経過や戦闘により卵が生成される
2. 卵が孵化し、個体数が増える
3. 個体数増加が圧力となり、防衛・討伐・移動制御が必要になる
4. プレイヤーは「封じ込め／間引き／飼育」を選ぶ

---

## 3. 自然繁殖（Wild）
- デモリッシャーは一定間隔で繁殖し、卵が生成される
- 卵は一定時間で孵化する
- 総個体数には上限がある（cap）
- 増殖は「現在数」と「上限」に基づき制御される
- 撃破時、稀に卵をドロップする
- 進化度に応じて：
  - 孵化個体が高品質になる場合がある
  - 卵の拡散範囲が拡大する
- 総個体数には上限がある（cap）
  - 上限は **200 固定**とする（パフォーマンス安定性を優先）
- 増殖は「現在数」と「上限」に基づき制御される

---

## 4. プレイヤー介入・ペット
- 野生撃破で卵を得られる場合がある
- 卵から孵化した個体は「ペット」として扱われる
- ペットは性質（敵対／中立／友好）を持つ
- 成熟したペットは繁殖を開始し、卵を産む
- 子孫は親の特徴・能力を引き継ぐ場合がある
- 繁殖で生まれた卵は、ドロップ卵より高品質になりやすい

---

## 5. 難易度・圧力設計
- 本 Mod は「高リスク・高密度戦闘」を好むプレイヤー向けである
- 早期の理不尽さを避けつつ、放置が危険になる圧力を維持する
- 進行に応じて「品質」「移動圧力」「拡散」が上がる

---

## 6. ロケット発射への反応（振動特性）
- ゲーム中盤以降、ロケットが発射されると、デモリッシャーは30分サイクル内で徐々にサイロへ向かう（仕様）
- これは「活動（振動）への嫌悪」という特性を追加することで実現する（世界観）

---

## 7. 決定性・マルチプレイ
- 乱数は deterministic な手法を用い、マルチプレイでの再現性を前提とする
- 再現性に問題が見つかった場合はバグとして扱う

---

## 8. セーブデータ
- 使用するグローバルデータ：`storage` 配下（キーは実装に準拠）
- データ移行が必要な変更を行う場合は、更新手順を明記する

---

## 9. 本 spec の扱い
- 本書は README および Mod Portal の記述より優先される
- 実装と乖離が生じた場合：
  - 実装を仕様とみなすか
  - spec を更新するか
  を明示的に判断する